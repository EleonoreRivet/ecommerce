<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

	
<h:head>
<title>Test Accueil</title>

<style type="text/css">
    .image-ring .ui-ring-item {
        border:0 none;
    }
 
    .image-ring .ui-ring-item img {
        width: 100%;
    }
 
    .ui-ring button {
        font-size: 1em !important;
    }
 
    .value {
        font-weight: bold;
    }
</style>
</h:head>
<h:body>
<a href="panier.xhtml">Panier</a>
<br/>
		
			<h:form>
    <p:dataTable var="p"  id="idTab" value="#{aMB.listePro}" widgetVar="produits"
                 emptyMessage="No cars found with given criteria" filteredValue="#{pMB.listeProMC}">
 
        <f:facet name="header">
            <p:outputPanel>
                <h:outputText value="Search all fields:" />
                <p:inputText id="globalFilter" onkeyup="PF('produits').filter()" style="width:150px" placeholder="Enter keyword"/>
            </p:outputPanel>
        </f:facet>
					<p:column headerText="ID">
						<h:outputText value="#{p.id}" />
					</p:column>

					<p:column headerText="Photo">
						<h:graphicImage value="#{p.img}" />
					</p:column>

					<p:column headerText="Designation">
						<h:outputText value="#{p.designation}" />
					</p:column>

					<p:column headerText="Description">
						<h:outputText value="#{p.description}" />
					</p:column>

					<p:column headerText="Catégorie">
						<h:outputText value="#{p.categorie.nom}" />
					</p:column>

					<p:column headerText="Prix">
						<h:outputText value="#{p.prix}" />
					</p:column>

					<p:column headerText="Quantité">
					<p:inputText value="#{clMB.quantite}" />
					</p:column>

					<p:column headerText="Opérations">
						<h:commandButton value="Ajouter au panier"
						action="#{clMB.ajoutProduit}" styleClass="bouton">
						<f:setPropertyActionListener value="#{p.id}"
								target="#{pMB.produit.id}" />
						</h:commandButton>
						| <p:commandLink value="Supprimer"
							update="idTab">
							<f:setPropertyActionListener value="#{p.id}"
								target="#{pMB.produit.id}" />
						</p:commandLink> | 
				<p:commandLink value="Modifier" action="modifpro">
							<f:setPropertyActionListener value="#{p}"
								target="#{pMB.produit}" />
						</p:commandLink>
					</p:column>
				</p:dataTable>
			</h:form>

</h:body>
</html>